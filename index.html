<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Max Messenger</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body class="theme-gray">
    <div id="auth-page" class="auth-container">
        <div class="auth-box">
            <h1>Max Messenger</h1>
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">–í—Ö–æ–¥</button>
                <button class="auth-tab" data-tab="register">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
            </div>
            
            <form id="login-form" class="auth-form active">
                <input type="email" id="login-email" placeholder="Email" required>
                <input type="password" id="login-password" placeholder="–ü–∞—Ä–æ–ª—å" required>
                <button type="submit">–í–æ–π—Ç–∏</button>
            </form>
            
            <form id="register-form" class="auth-form">
                <input type="text" id="register-username" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required>
                <input type="email" id="register-email" placeholder="Email" required>
                <input type="password" id="register-password" placeholder="–ü–∞—Ä–æ–ª—å" required>
                <button type="submit">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
            </form>
        </div>
    </div>

    <div id="app" class="app-container hidden">
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å–µ—Ä–≤–µ—Ä–æ–≤ -->
        <div class="servers-sidebar">
            <div class="server-list" id="server-list">
                <!-- –°–µ—Ä–≤–µ—Ä—ã –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
            </div>
            <button class="add-server-btn" id="add-server-btn">+</button>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
        <div class="main-interface">
            <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –∫–∞–Ω–∞–ª–æ–≤ –∏ –õ–° -->
            <div class="channels-sidebar">
                <div class="server-header">
                    <h3 id="current-server-name">–õ–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è</h3>
                </div>
                
                <div class="channels-tabs">
                    <button class="channel-tab active" data-tab="friends">–î—Ä—É–∑—å—è</button>
                    <button class="channel-tab" data-tab="servers">–°–µ—Ä–≤–µ—Ä—ã</button>
                </div>

                <div class="channels-content">
                    <!-- –°–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π -->
                    <div class="friends-list tab-content active" id="friends-tab">
                        <div class="section-header">–õ–ò–ß–ù–´–ï –°–û–û–ë–©–ï–ù–ò–Ø</div>
                        <div id="dm-channels-list">
                            <!-- –õ–° —Å –¥—Ä—É–∑—å—è–º–∏ -->
                        </div>
                        
                        <div class="section-header">–î–†–£–ó–¨–Ø</div>
                        <div id="friends-list">
                            <!-- –°–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π -->
                        </div>
                        
                        <div class="add-friend-section">
                            <input type="text" id="friend-username-input" placeholder="–î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∞">
                            <button id="add-friend-btn">–î–æ–±–∞–≤–∏—Ç—å</button>
                        </div>
                    </div>

                    <!-- –°–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤ -->
                    <div class="servers-list tab-content" id="servers-tab">
                        <div id="server-channels-list">
                            <!-- –ö–∞–Ω–∞–ª—ã —Å–µ—Ä–≤–µ—Ä–æ–≤ -->
                        </div>
                    </div>
                </div>

                <div class="user-panel">
                    <div class="user-info" id="current-user-panel">
                        <img class="user-avatar" id="user-avatar" src="" alt="Avatar">
                        <div class="user-details">
                            <span class="username" id="panel-username">Username</span>
                            <span class="user-status" id="panel-status">online</span>
                        </div>
                    </div>
                    <div class="user-controls">
                        <button id="settings-btn">‚öôÔ∏è</button>
                    </div>
                </div>
            </div>

            <!-- –û–±–ª–∞—Å—Ç—å —á–∞—Ç–∞ -->
            <div class="chat-area">
                <div class="chat-header">
                    <div id="chat-header-info">
                        <span id="current-chat-name">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç</span>
                    </div>
                    <div class="chat-controls">
                        <button id="emoji-btn">üòä</button>
                        <button id="members-toggle">üë•</button>
                    </div>
                </div>
                
                <div class="messages-container" id="messages-container">
                    <!-- –°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                </div>
                
                <div class="message-input-container">
                    <div class="emoji-picker hidden" id="emoji-picker">
                        <!-- –≠–º–æ–¥–∑–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                    </div>
                    <div class="input-wrapper">
                        <input type="text" id="message-input" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
                        <button id="send-btn">‚û§</button>
                    </div>
                </div>
            </div>

            <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ -->
            <div class="members-sidebar" id="members-sidebar">
                <div class="members-header">–£–ß–ê–°–¢–ù–ò–ö–ò</div>
                <div class="members-list" id="members-list">
                    <!-- –£—á–∞—Å—Ç–Ω–∏–∫–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="user-profile-modal" class="modal">
        <div class="modal-content profile-modal">
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–æ—Ñ–∏–ª—è -->
        </div>
    </div>

    <div id="server-create-modal" class="modal">
        <div class="modal-content">
            <h3>–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä</h3>
            <input type="text" id="server-name-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞">
            <button id="create-server-btn">–°–æ–∑–¥–∞—Ç—å</button>
        </div>
    </div>

    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
            <div class="settings-tabs">
                <button class="settings-tab active" data-tab="profile">–ü—Ä–æ—Ñ–∏–ª—å</button>
                <button class="settings-tab" data-tab="appearance">–í–Ω–µ—à–Ω–∏–π –≤–∏–¥</button>
            </div>
            
            <div class="settings-content">
                <div class="tab-content active" id="profile-tab">
                    <div class="avatar-upload">
                        <img id="settings-avatar" src="" alt="Avatar">
                        <input type="file" id="avatar-upload" accept="image/*">
                        <label for="avatar-upload">–ò–∑–º–µ–Ω–∏—Ç—å –∞–≤–∞—Ç–∞—Ä</label>
                    </div>
                    <input type="text" id="settings-username" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
                    <button id="save-profile-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
                
                <div class="tab-content" id="appearance-tab">
                    <h4>–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è</h4>
                    <div class="theme-options">
                        <button class="theme-btn" data-theme="light">–ë–µ–ª–∞—è</button>
                        <button class="theme-btn" data-theme="dark">–ß–µ—Ä–Ω–∞—è</button>
                        <button class="theme-btn active" data-theme="gray">–°–µ—Ä–∞—è</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div id="loading" class="hidden">
        <div class="spinner"></div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notifications" class="notifications-container"></div>

    <script src="script.js"></script>
</body>
</html>
